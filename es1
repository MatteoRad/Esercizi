#include <iostream>
using namespace std;

struct Libro
{
    string ISBN, titolo, Autore, Editore;
    int anno;
    float prezzo;
};

int inseriscilibro(Libro libro[])
{
    int n;
    cout<<"Quanti libri vuoi inserire ? "<<endl;
    cin>>n;
    
    for(int i = 0; i < n; i++)
    {
        cout<<"inserisci il codice ISBN del libro "<<i+1<<endl;
        cin>>libro[i].ISBN;
        cout<<"inserisci il titolo del libro "<<i+1<<endl;
        cin>>libro[i].titolo;
        cout<<"inserisci l'autore del libro "<<i+1<<endl;
        cin>>libro[i].Autore;
        cout<<"inserisci l'editore del libro "<<i+1<<endl;
        cin>>libro[i].Editore;
        cout<<"inserisci l'anno del libro "<<i+1<<endl;
        cin>>libro[i].anno;
        cout<<"inserisci il prezzo del libro "<<i+1<<endl;
        cin>>libro[i].prezzo;
        cout<<endl;
        cout<<endl;
    }
    return n;
}

void catalogo(Libro libro[], int n)
{
    for(int i = 0; i < n; i++)
    {
        cout<<endl;
        cout<<"ISBN : "<<libro[i].ISBN<<endl;
        cout<<"titolo : "<<libro[i].titolo<<endl;
        cout<<"Autore : "<<libro[i].Autore<<endl;
        cout<<"Editore : "<<libro[i].Editore<<endl;
        cout<<"Anno : "<<libro[i].anno<<endl;
        cout<<"Prezzo : "<<libro[i].prezzo<<endl;
    }
}

void cancella_libro(Libro libro[], int n)
{
    string elimina;
    cout<<"Inserisci il codice del libro da eliminare : "<<endl;
    cin>>elimina;
    
    int i=0;
    if(elimina==libro[i].ISBN)
    {
        libro[i].ISBN=" ";
        libro[i].titolo=" ";
        libro[i].Autore=" ";
        libro[i].Editore=" ";
        libro[i].anno=0;
        libro[i].prezzo=0;
    }
}

void ricerca_libro(Libro libro[], int n)
{
    string ricerca;
    cout<<"Inserire il codice : "<<endl;
    cin>>ricerca;
    
    int i=0;
    if(ricerca == libro[i].ISBN)
    {
        for(int i=0; i<n; i++)
        {
            cout<<"Il libro cercato e' : "<<endl;
            cout<<"ISBN : "<<libro[i].ISBN<<endl;
            cout<<"titolo : "<<libro[i].titolo<<endl;
            cout<<"Autore : "<<libro[i].Autore<<endl;
            cout<<"Editore : "<<libro[i].Editore<<endl;
            cout<<"Anno : "<<libro[i].anno<<endl;
            cout<<"Prezzo : "<<libro[i].prezzo<<endl;
        }
    }
}

void modifiche(Libro libro[], int n)
{
    string m;
    cout<<"Inserisci il codice del libro che si vuole modificare : "<<endl;
    cin>>m;
    
    int i=0;
    if(libro[i].ISBN==m)
    {
        cout<<"Modifica del' ISBN : "<<endl;
        cin>>libro[i].ISBN;
        cout<<"Modifica del titolo : "<<endl;
        cin>>libro[i].titolo;
        cout<<"Modifica dell' Autore : "<<endl;
        cin>>libro[i].Autore;
        cout<<"Modifica dell' Editore : "<<endl;
        cin>>libro[i].Editore;
        cout<<"Modifica dell' anno"<<endl;
        cin>>libro[i].anno;
        cout<<"Modifica del prezzo"<<endl;
        cin>>libro[i].prezzo;
    }
}

void menu(Libro libro[], int n)
{
    int scelta;
    do
    {
        cout<<"MENU'"<<endl;
        cout<<"1) Inserire un nuovo libro"<<endl;
        cout<<"2) Visualizzare lâ€™intero catalogo della biblioteca"<<endl;
        cout<<"3) Cancellare un libro"<<endl;
        cout<<"4) Ricercare un particolare libro"<<endl;
        cout<<"5) Effettuare delle modifiche"<<endl;
        cout<<"6) Uscita"<<endl;
        cin>>scelta;
        
        if(scelta==1)
        {
            cout<<endl;
            n = inseriscilibro(libro);
            cout<<endl;
        }
        else if(scelta==2)
        {
            cout<<endl;
            catalogo(libro, n);
            cout<<endl;
        }
        else if(scelta==3)
        {
            cout<<endl;
            cancella_libro(libro, n);
            cout<<endl;
        }
        else if(scelta==4)
        {
            cout<<endl;
            ricerca_libro(libro, n);
            cout<<endl;
        }
        else if(scelta==5)
        {
            cout<<endl;
            modifiche(libro, n);
            cout<<endl;
        }
    }
    while(scelta<6);
    cout<<"Esco..."<<endl;
}

int main()
{
    int n=0;
    Libro libro[50];
    
    menu(libro, n);
    
    return 0;
}
